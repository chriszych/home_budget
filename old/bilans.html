<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="./bilans.css">
  <script src="https://kit.fontawesome.com/f7c473a27a.js" crossorigin="anonymous"></script>
  <title>Budżet domowy online</title>
</head>

<body>

     <nav id="navBar">
    <!-- navBar -->

      <div class="navbar navbar-expand-lg bg-body-tertiary rounded">
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#buttonNavbar" aria-controls="buttonNavbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
  
          <div class="collapse navbar-collapse d-lg-flex" id="buttonNavbar">
            <a href="./main.html"><i class="fa-solid fa-house-chimney" style="color: #2861c3;"></i></a>
            <h1><a class="navbar-brand col-lg-3 me-0" href="./main.html">&nbsp;Budżet online</a></h1>
            <ul class="navbar-nav col-lg-9 justify-content-lg-end">

              <li class="nav-item">
                <a class="btn btn-lg btn-outline-primary m-1" href="./addExpense.html">Nowy wydatek</a>
              </li>

              <li class="nav-item">
                <a class="btn btn-lg btn-outline-primary m-1" href="./addIncome.html">Nowy przychód</a>
              </li>

              <li class="nav-item">
                <a class="btn btn-lg btn-outline-primary m-1 disabled" href="./bilans.html">Aktualny bilans</a>
              </li>              

              <li class="nav-item">
                <a class="btn btn-lg btn-outline-primary m-1" href="#">Ustawienia</a>
              </li>

              <li class="nav-item">
                <a class="btn btn-lg btn-outline-primary m-1" href="./index.html">Wyloguj</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

    </nav>

  
  <!-- mainPageContent -->
  <section id="mainPageContent">

    <section class="py-3 text-center container">
      <div class="row py-lg-3">
        <div class="col-lg-6 col-md-8 mx-auto">
          <h2 class="fw-light fw-bold">Bilans na bieżący miesiąc</h2>
          <h3>Struktura Twoich przychodów i wydatków <br> w okresie <span class="fw-bold">od 01.09.2024 do
            30.09.2024</span></h3>
        </div>
      </div>
    </section>


    <div class="album py-3 bg-body-tertiary">
      <div class="container">
        <div class="row row-cols-xl-2 row-cols-xl-2 g-3">
          <div class="col">
            <div class="card shadow-sm">
              <div class="card-body">
                <div class="container tableExpenses .table-responsive">
                  <h2>Wydatki</h2>
                  <p>Bieżacy miesiąc od 01.09.2024 do 30.09.2024</p>
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th class="text-center px-1">Nr.</th>
                        <th class="text-center px-1">Data</th>
                        <th class="text-end pe-1">Kwota</th>
                        <th class="px-1">Kategoria</th>
                        <th class="px-1">Komentarz</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                       <td class="text-center px-1">001</td>
                       <td class="text-center px-1">01.09.2024 17:28</td>
                       <td class="text-end pe-1">500,00</td>
                       <td class="px-1">Zakupy duże</td>
                       <td class="px-1">Kurtka zimowa dla Adama</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">002</td>
                        <td class="text-center px-1">03.09.2024 08:25</td>
                        <td class="text-end pe-1">124,00</td>
                        <td class="px-1">Sport</td>
                        <td class="px-1">Karnet na basen</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">003</td>
                        <td class="text-center px-1">07.09.2024 18:57</td>
                        <td class="text-end pe-1">22,45</td>
                        <td class="px-1">Rozrywka</td>
                        <td class="px-1">Bilet do kina</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">004</td>
                        <td class="text-center px-1">08.09.2024 17:36</td>
                        <td class="text-end pe-1">2000,00</td>
                        <td class="px-1">Oszczędności</td>
                        <td class="px-1">Zostało z wydatków za sierpień 2024</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">005</td>
                        <td class="text-center px-1">09.09.2024 18:15</td>
                        <td class="text-end pe-1">45,80</td>
                        <td class="px-1">Rozrywka</td>
                        <td class="px-1">Składka na salę do tenisa</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">006</td>
                        <td class="text-center px-1">10.09.2024 10:02</td>
                        <td class="text-end pe-1">200,00</td>
                        <td class="px-1">Zakupy w markecie</td>
                        <td class="px-1">Żywność</td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr>
                       <th></th>
                       <th class="text-center">Suma: </th>
                       <th class="text-end pe-1">2912,25</th>
                       <th></th>
                       <th></th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div class="col">
            <div class="card shadow-sm">
              <div class="card-body">
                <div class="container tableIncomes">
                  <h2>Przychody</h2>
                  <p>Bieżacy miesiąc od 01.09.2024 do 30.09.2024</p>
                  <table class="table table-hover">
                    <thead>
                     <tr>
                        <th class="text-center px-1">Nr.</th>
                       <th class="text-center px-1">Data</th>
                       <th class="text-end pe-1">Kwota</th>
                       <th class="px-1">Kategoria</th>
                       <th class="px-1">Komentarz</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                       <td class="text-center px-1">001</td>
                       <td class="text-center px-1">02.09.2024 12:28</td>
                       <td class="text-end pe-1">5500,00</td>
                       <td class="px-1">Pensja 01</td>
                       <td class="px-1">Przelew z umowy o pracę</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">002</td>
                        <td class="text-center px-1">03.09.2024 09:15</td>
                        <td class="text-end pe-1">6500,00</td>
                        <td class="px-1">Pensja 02</td>
                        <td class="px-1">Przelew z umowy o pracę</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">003</td>
                        <td class="text-center px-1">06.09.2024 08:57</td>
                        <td class="text-end pe-1">675,95</td>
                        <td class="px-1">Premia</td>
                        <td class="px-1">Premia za Q3</td>
                      </tr>
                      <tr>
                        <td class="text-center px-1">004</td>
                        <td class="text-center px-1">07.09.2024 21:56</td>
                        <td class="text-end pe-1">150,00</td>
                        <td class="px-1">Sprzedaż Allegro</td>
                        <td class="px-1">Tablet Samsung</td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr>
                        <th></th>
                        <th class="text-center">Suma: </th>
                        <th class="text-end pe-1">12825,95</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>
  <section class="py-3 text-center container">
    <div class="col-lg-6 col-md-8 mx-auto">
      <div class="card mb-3 rounded-3 shadow-sm border-success">
        <div class="card-header py-3 text-bg-success border-success">
          <h2 class="my-0 fw-bold">Brawo!!!</h2>
        </div>
        <div class="card-body">
          <h3>Dobrze zarządzasz swoimi finansami</h3>
          <h3>Aktualne saldo: <span class="fw-bold text-success">9913,70 PLN.</span></h3>
        </div>
      </div>
    </div>

    <div class="container-sm" style="position: relative;">
      <div class="row">
        <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 mx-auto">
          <canvas id="myChart"></canvas>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Footer -->
  <footer id="footer">
    <div class="footer container ">
      <div class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        <div class="col-md-4 d-flex align-items-center">
          <span class="mb-3 mb-md-0 text-body-secondary">Budżet online &#169; 2024</span>
        </div>
        <ul class="socials nav col-md-4 justify-content-end list-unstyled d-flex ">
          <li class="ms-3"><a href="#" class="text-body-secondary"><i class="fa-brands fa-facebook"></i></a></li>
          <li class="ms-3"><a href="#" class="text-body-secondary"><i class="fa-brands fa-linkedin"></i></a></li>
          <li class="ms-3"><a href="#" class="text-body-secondary"><i class="fa-brands fa-github"></i></a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.0/dist/chart.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>

  <script>

    const ctx = document.getElementById('myChart');

    new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['Rachunki', 'Żywność', 'Rozrywka', 'Sport', 'Oszczędności', 'Inne'],
        datasets: [{
          data: [30, 33, 7, 12, 10, 8],
          backgroundColor: [
            'rgb(255, 99, 132)',
            'rgb(54, 162, 235)',
            'rgb(25, 99, 13)',
            'rgb(54, 16, 235)',
            'rgb(55, 255, 255)',
            'rgb(255, 205, 86)'
          ],
          hoverOffset: 5,
          datalabels: {
            anchor: 'center',
            backgroundColor: 'white',
            borderWidth: 5,
            borderRadius: 50,
            font: function (context) {
              var width = context.chart.width;
              var size = Math.round(width / 32);
              size = size > 14 ? 14 : size; // setting max limit to 14
              size = size < 9 ? 9 : size; // setting min limit to 8

              return {
                weight: 'bold',
                size: size
              };
            },
            formatter: (value) => {
              return value + '%';
            },

          }
        }]
      },
      options: {

        plugins: {
          legend: {
            position: "right",
            labels: {
              font: function (context) {
                var width = context.chart.width;
                var size = Math.round(width / 32);
                size = size > 12 ? 12 : size; // setting max limit to 12
                size = size < 6 ? 6 : size; // setting min limit to 8

                return {
                  weight: 'bold',
                  size: size
                };
              },
            }
          },
          title: {
            display: true,
            text: "Struktura Twoich wydatków:",
            font: {
              size: 18,
              family: 'Arial'
            }

          },

          tooltip: {
            callbacks: {
              label: (context) => {
                return context.chart.data.labels[context.dataIndex] + " " + context.dataset.data[context.dataIndex] + "%";
              }
            }
          },


        },

      },
      plugins: [ChartDataLabels]
    });

  </script>

</body>

</html>